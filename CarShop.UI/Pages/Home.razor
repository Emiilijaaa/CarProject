@page "/"
@inject UIService Service

<NavComponent UIService="Service" />
<CascadingValue Value="Service" Name="Service">
    <NavComponent OnChange="OnCategoryChange" />
</CascadingValue>
<MenuComponent />
<img src="Images/VV.png" />
<CarouselComponent />
<CardListComponent />

<CascadingValue Value="Service" Name="Service">
        <ProductComponent OnChange="OnChange" />
     </CascadingValue>

<div id="viewport" class="d-flex vh-100 flex-wrap">
    @* <ProductFilterComponent /> *@
    @foreach (var car in Service.Cars)
    {
        <ProductComponent Car="car" />
    }
    
</div>
<FooterComponent/>

@code {
    //List<CarGetDTO> FetchedCars = new List<CarGetDTO>();

    async Task OnCategoryChange(int id)
    {
        await Service.GetCarsByCategory(id);
       
        StateHasChanged();
    }
}

